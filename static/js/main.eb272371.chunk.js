(this.webpackJsonpITLogger=this.webpackJsonpITLogger||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(10),l=n.n(s),i=(n(27),n(5)),o=n(4),u=n(3),d=n.n(u),j=n(6),h=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return{type:"SET_CURRENT",payload:e}},p=Object(o.b)(null,{addLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("http://localhost:5000/logs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"ADD_LOG",payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addLog,n=Object(a.useState)(""),r=Object(i.a)(n,2),s=r[0],l=r[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),d=u[0],j=u[1],h=Object(a.useState)(!1),b=Object(i.a)(h,2),p=b[0],O=b[1];return Object(c.jsx)("div",{id:"modal1",class:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({message:s,tech:d,attention:p}),l(""),j(""),O(!1)},children:[Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"Add a new log"}),Object(c.jsxs)("div",{class:"input-field col s6",children:[Object(c.jsx)("input",{id:"log",type:"text",value:s,class:"validate",onChange:function(e){return l(e.target.value)}}),Object(c.jsx)("label",{for:"log",children:"Input a Log"})]}),Object(c.jsxs)("select",{value:d,onChange:function(e){return j(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose your option"}),Object(c.jsx)("option",{value:"John Daw",children:"John Daw"}),Object(c.jsx)("option",{value:"Sam Smith",children:"Sam Smith"}),Object(c.jsx)("option",{value:"Sara Wilson",children:"Sara Wilson"})]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:p,onChange:function(e){return O(!p)}}),Object(c.jsx)("span",{children:"Needs Attention"})]})})]}),Object(c.jsx)("div",{class:"modal-footer",children:Object(c.jsx)("input",{type:"submit",class:"modal-close btn btn-flat green white-text",value:"Send"})})]})})})),O=Object(o.b)((function(e){return{current:e.log.current}}),{updateLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("http://localhost:5000/logs/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"UPDATE_LOG",payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.current,n=e.updateLog,r=(e.setCurrent,Object(a.useState)("")),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),j=d[0],h=d[1],b=Object(a.useState)(!1),p=Object(i.a)(b,2),O=p[0],f=p[1];Object(a.useEffect)((function(){t&&(o(t.message),h(t.tech),f(t.attention))}),[t]);return Object(c.jsx)("div",{id:"editModal",class:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({message:l,tech:j,attention:O,id:t.id}),o(""),h(""),f(!1)},children:[Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsx)("h4",{className:"center-align",children:"Edit the log"}),Object(c.jsx)("div",{class:"input-field col s6",children:Object(c.jsx)("input",{id:"log",type:"text",value:l,class:"validate",onChange:function(e){return o(e.target.value)}})}),Object(c.jsxs)("select",{value:j,onChange:function(e){return h(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose your option"}),Object(c.jsx)("option",{value:"John Daw",children:"John Daw"}),Object(c.jsx)("option",{value:"Sam Smith",children:"Sam Smith"}),Object(c.jsx)("option",{value:"Sara Wilson",children:"Sara Wilson"})]}),Object(c.jsx)("p",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"checkbox",checked:O,onChange:function(e){return f(!O)}}),Object(c.jsx)("span",{children:"Needs Attention"})]})})]}),Object(c.jsx)("div",{class:"modal-footer",children:Object(c.jsx)("input",{type:"submit",class:"modal-close btn btn-flat green white-text",value:"Send"})})]})})})),f=Object(o.b)((function(e){return{techs:e.tech.techs}}),{getTechs:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5000/techs");case 3:if((n=e.sent).ok){e.next=6;break}throw Error("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b");case 6:return e.next=8,n.json();case 8:c=e.sent,t({type:"GET_TECHS",payload:c}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"GET_TECHS_ERROR",payload:e.t0.message}),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},deleteTech:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5000/techs/".concat(e),{method:"DELETE"});case 3:n({type:"DELETE_TECH",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n({type:"GET_TECHS_ERROR",payload:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTechs,n=e.deleteTech,r=e.techs;return Object(a.useEffect)((function(){t()}),[t]),Object(c.jsx)("div",{id:"techModal",className:"modal",children:Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsx)("h4",{className:"center",children:"List of technicians"}),Object(c.jsx)("ul",{class:"collection",children:r&&r.map((function(e){return Object(c.jsxs)("li",{class:"collection-item",children:[e.firstName," ",e.lastName,Object(c.jsx)("a",{href:"#!",class:"secondary-content",onClick:function(){return n(e.id)},children:Object(c.jsx)("i",{class:"material-icons",children:"delete"})})]},e.id)}))})]})})})),x=(n(9),Object(o.b)(null,{addTech:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:5000/techs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n({type:"ADD_TECH",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:"GET_TECHS_ERROR",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTech,n=Object(a.useState)(""),r=Object(i.a)(n,2),s=r[0],l=r[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),d=u[0],j=u[1];return Object(c.jsx)("div",{id:"addTechModal",class:"modal",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({firstName:s,lastName:d}),l(""),j("")},children:[Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{class:"input-field",children:[Object(c.jsx)("input",{id:"first_name",value:s,onChange:function(e){return l(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{for:"first_name",children:"First Name"})]}),Object(c.jsxs)("div",{class:"input-field",children:[Object(c.jsx)("input",{id:"last_name",value:d,onChange:function(e){return j(e.target.value.trim())},type:"text"}),Object(c.jsx)("label",{for:"last_name",children:"Last Name"})]})]}),Object(c.jsx)("div",{className:"modal-footer",children:Object(c.jsx)("input",{type:"submit",value:"Send",class:"modal-close waves-effect waves-green btn-flat indigo white-text"})})]})})}))),g=n(19),v=n.n(g),m=function(){return Object(a.useEffect)((function(){v.a.AutoInit()})),Object(c.jsxs)("div",{class:"fixed-action-btn",children:[Object(c.jsx)("a",{href:"#modal1",class:"btn-floating btn-large red modal-trigger",children:Object(c.jsx)("i",{class:"large material-icons",children:"add"})}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#techModal",class:"btn-floating blue modal-trigger",children:Object(c.jsx)("i",{class:"material-icons",children:"person"})})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"#addTechModal",class:"btn-floating green modal-trigger",children:Object(c.jsx)("i",{class:"material-icons",children:"person_add"})})})]})]})},y=Object(o.b)(null,{deleteLog:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("http://localhost:5000/logs/".concat(e),{method:"DELETE"});case 4:n({type:"DELETE_LOG",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:b})((function(e){var t=e.log,n=e.deleteLog,a=e.setCurrent;return Object(c.jsx)("li",{class:"collection-item",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("a",{href:"#editModal",onClick:function(){return a(t)},class:"modal-trigger ".concat(t.attention?"red-text":""),children:t.message}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{children:["#",t.id," ",Object(c.jsxs)("span",{className:"grey-text",children:["last updated by"," "]}),t.tech,Object(c.jsxs)("span",{className:"grey-text",children:[" ","on ",t.date]})]}),Object(c.jsx)("a",{href:"#!",class:"secondary-content",onClick:function(){return n(t.id)},children:Object(c.jsx)("i",{class:"material-icons",children:"delete"})})]})})})),E=function(){return Object(c.jsx)("div",{class:"preloader-wrapper big active",children:Object(c.jsxs)("div",{class:"spinner-layer spinner-blue-only",children:[Object(c.jsx)("div",{class:"circle-clipper left",children:Object(c.jsx)("div",{class:"circle"})}),Object(c.jsx)("div",{class:"gap-patch",children:Object(c.jsx)("div",{class:"circle"})}),Object(c.jsx)("div",{class:"circle-clipper right",children:Object(c.jsx)("div",{class:"circle"})})]})})},T=Object(o.b)((function(e){return{logs:e.log.logs,loading:e.log.loading}}),{getLogs:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(),e.next=4,fetch("http://localhost:5000/logs");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,console.log(c),t({type:"GET_LOGS",payload:c}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"GET_ERRORS",payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},setLoading:h})((function(e){var t=e.logs,n=e.getLogs,r=e.loading;e.setLoading;return Object(a.useEffect)((function(){n()}),[]),r?Object(c.jsx)(E,{}):Object(c.jsx)("div",{children:Object(c.jsxs)("ul",{class:"collection with-header",children:[Object(c.jsx)("li",{class:"collection-header",children:Object(c.jsx)("h4",{children:"Total Logs"})}),!r&&t&&t.map((function(e){return Object(c.jsx)(y,{log:e},e.id)}))]})})})),S=Object(o.b)(null,{searchLogs:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,fetch("http://localhost:5000/logs?q=".concat(e));case 4:return c=t.sent,t.next=7,c.json();case 7:a=t.sent,n({type:"SEARCH_LOGS",payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"GET_ERRORS",payload:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.searchLogs;return Object(c.jsx)("nav",{children:Object(c.jsx)("div",{class:"nav-wrapper indigo",children:Object(c.jsx)("form",{children:Object(c.jsxs)("div",{class:"input-field",children:[Object(c.jsx)("input",{id:"search",type:"search",onChange:function(e){return t(e.target.value.trim())}}),Object(c.jsx)("label",{class:"label-icon",for:"search",children:Object(c.jsx)("i",{class:"material-icons",children:"search"})}),Object(c.jsx)("i",{class:"material-icons",children:"close"})]})})})})})),C=n(7),L=n(20),_=n(21),w=n(12),R=n(2),k={logs:[],loading:!1,current:null,err:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_LOGS":case"SEARCH_LOGS":return Object(R.a)(Object(R.a)({},e),{},{logs:t.payload,loading:!1});case"ADD_LOG":return Object(R.a)(Object(R.a)({},e),{},{logs:[].concat(Object(w.a)(e.logs),[t.payload]),loading:!1});case"DELETE_LOG":return Object(R.a)(Object(R.a)({},e),{},{logs:e.logs.filter((function(e){return e.id!==t.payload})),loading:!1});case"UPDATE_LOG":return Object(R.a)(Object(R.a)({},e),{},{logs:e.logs.map((function(e){return e.id===t.payload.id?t.payload:e})),loading:!1});case"SET_LOADING":return Object(R.a)(Object(R.a)({},e),{},{loading:!0});case"SET_CURRENT":return Object(R.a)(Object(R.a)({},e),{},{current:t.payload});default:return e}},G={techs:[],loading:!1,current:null,err:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TECHS":return Object(R.a)(Object(R.a)({},e),{},{techs:t.payload});case"ADD_TECH":return Object(R.a)(Object(R.a)({},e),{},{techs:[].concat(Object(w.a)(e.techs),[t.payload])});case"DELETE_TECH":return Object(R.a)(Object(R.a)({},e),{},{techs:e.techs.filter((function(e){return e.id!==t.payload}))});case"GET_TECHS_ERROR":return Object(R.a)(Object(R.a)({},e),{},{err:t.payload});default:return e}},A=Object(C.combineReducers)({log:D,tech:N}),H=[_.a],J=Object(C.createStore)(A,{},Object(L.composeWithDevTools)(C.applyMiddleware.apply(void 0,H)));var I=function(){return Object(c.jsx)(o.a,{store:J,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(S,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(T,{}),Object(c.jsx)(m,{}),Object(c.jsx)(p,{}),Object(c.jsx)(O,{}),Object(c.jsx)(f,{}),Object(c.jsx)(x,{})]})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root")),M()}},[[34,1,2]]]);
//# sourceMappingURL=main.eb272371.chunk.js.map